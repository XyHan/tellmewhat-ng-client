<app-header></app-header>
<div class="table-container">
    <div class="loading-shade" *ngIf="isTicketsTableLoading">
        <mat-spinner *ngIf="isTicketsTableLoading"></mat-spinner>
    </div>
    <table mat-table [dataSource]="ticketsTableData" class="dashboard-table">
        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef> Statut </th>
            <td mat-cell *matCellDef="let element"> {{ element.status }} </td>
        </ng-container>
        <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef> Type </th>
            <td mat-cell *matCellDef="let element"> {{ element.type }} </td>
        </ng-container>
        <ng-container matColumnDef="subject">
            <th mat-header-cell *matHeaderCellDef> Sujet </th>
            <td mat-cell *matCellDef="let element"> {{ element.subject }} </td>
        </ng-container>
        <ng-container matColumnDef="project">
            <th mat-header-cell *matHeaderCellDef> Projet </th>
            <td mat-cell *matCellDef="let element"> {{ element.project }} </td>
        </ng-container>
        <ng-container matColumnDef="createdBy">
            <th mat-header-cell *matHeaderCellDef> Auteur </th>
            <td mat-cell *matCellDef="let element"> {{ element.createdBy | sliceString:'@':0 }} </td>
        </ng-container>
        <ng-container matColumnDef="updatedAt">
            <th mat-header-cell *matHeaderCellDef> Dernière mise à jour </th>
            <td mat-cell *matCellDef="let element"> {{ element.updatedAt | customDate: 'medium' }} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="ticketsTableColumns"></tr>
        <tr mat-row (click)="redirectTo(row)" *matRowDef="let row; columns: ticketsTableColumns;"></tr>
    </table>
    <mat-paginator
        [pageSizeOptions]="[10, 20, 100]"
        [length]="ticketsTableTotal"
        (page)="getCurrentPageEvent($event)"
        showFirstLastButtons
    ></mat-paginator>
</div>
